@model NationalNeon.Web.ViewModels.DepartmentViewModel
<style>
    .has-error {
        color: red;
        display: none;
    }
</style>
<div class="modal-header modal-popup-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h1 class="modal-title">New Department</h1>
</div>
<div class="modal-body">
    <form class="smart-form" asp-action="Edit" asp-controller="Department" data-ajax="true" data-ajax-method="POST" id="editDepartmentForm">
        <section>
            <label asp-for="DepartmentName" class="label"></label>
            <label class="textarea textarea-resizable">
                <textarea asp-for="DepartmentName" required="required" rows="6" class="custom-scroll" onchange="$(this).parent().find('.has-error').hide();"></textarea>
                <span class="has-error" id="invalid_departmentname">Please enter department name</span>
            </label>
            
        </section>

        <section>
            <label asp-for="Description" class="label"></label>
            <label class="textarea textarea-resizable">
                <textarea asp-for="Description" rows="6" required="required" class="custom-scroll" onchange="$(this).parent().find('.has-error').hide();"></textarea>
                <span class="has-error" id="invalid_departmentdescription">Please enter department description</span>
            </label>
           
        </section>
        <section>
            <input type="hidden" id="hdnVisibleOnDashboard" value="@Model.VisibleOnDashboard" />
            <input type="checkbox" id="VisibleOnDashboard" name="VisibleOnDashboard" />
            Show on Dashboard
        </section>

        <input type="hidden" asp-for="DepartmentId" />
        <footer class="text-center form-submit">
            <button type="button" class="btn btn-danger form-submit-btn edit_department_btn">Submit</button>
        </footer>

    </form>
</div>
<script>
    $(document).ready(function () {
        var isChecked = $("input[type='hidden'][id='hdnVisibleOnDashboard']").val();
        if (isChecked != "")
            $("[id='VisibleOnDashboard']").prop("checked", true);
        
        $("[id='VisibleOnDashboard']").on("click", function () {
             $(this).val() == false ? $(this).val("false") : $(this).val("true");
        })
    });
    
</script>
